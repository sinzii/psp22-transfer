"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transform = void 0;
const mod_js_1 = require("../common/mod.js");
function transform(props) {
    return (0, mod_js_1.createShape)({
        metadata: (0, mod_js_1.metadata)("$.transform", transform, props),
        staticSize: props.$base.staticSize,
        subEncode(buffer, value) {
            props.$base.subEncode(buffer, props.encode(value));
        },
        subDecode(buffer) {
            return props.decode(props.$base.subDecode(buffer));
        },
        subAssert(assert) {
            props.assert?.call(this, assert);
            props.$base.subAssert(new mod_js_1.AssertState(props.encode(assert.value), "#encode", assert));
        },
    });
}
exports.transform = transform;
//# sourceMappingURL=transform.js.map