"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.promise = void 0;
const mod_js_1 = require("../common/mod.js");
function promise($value) {
    return (0, mod_js_1.createShape)({
        metadata: (0, mod_js_1.metadata)("$.promise", promise, $value),
        staticSize: $value.staticSize,
        subEncode(buffer, value) {
            buffer.writeAsync($value.staticSize, async (buffer) => {
                $value.subEncode(buffer, await value);
            });
        },
        subDecode(buffer) {
            return Promise.resolve($value.subDecode(buffer));
        },
        subAssert(assert) {
            assert.instanceof(this, Promise);
        },
    });
}
exports.promise = promise;
//# sourceMappingURL=promise.js.map