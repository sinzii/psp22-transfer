import { field, optionalField } from '../deshape.js';
import { object } from '../extension/index.js';
export const Struct = (members) => {
    const fields = Object.keys(members).map((keyName) => {
        const member = members[keyName];
        const [metadata] = member.metadata;
        const isOptional = metadata.name === '$.option';
        return isOptional ? optionalField(keyName, metadata.args[0]) : field(keyName, member);
    });
    // @ts-ignore
    return object(...fields);
};
