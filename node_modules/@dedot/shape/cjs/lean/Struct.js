"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Struct = void 0;
const deshape_js_1 = require("../deshape.js");
const index_js_1 = require("../extension/index.js");
const Struct = (members) => {
    const fields = Object.keys(members).map((keyName) => {
        const member = members[keyName];
        const [metadata] = member.metadata;
        const isOptional = metadata.name === '$.option';
        return isOptional ? (0, deshape_js_1.optionalField)(keyName, metadata.args[0]) : (0, deshape_js_1.field)(keyName, member);
    });
    // @ts-ignore
    return (0, index_js_1.object)(...fields);
};
exports.Struct = Struct;
