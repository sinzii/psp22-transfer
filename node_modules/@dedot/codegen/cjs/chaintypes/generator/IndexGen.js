"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IndexGen = void 0;
const index_js_1 = require("../../shared/index.js");
const utils_js_1 = require("../../utils.js");
class IndexGen {
    interfaceName;
    runtimeVersion;
    constructor(interfaceName, runtimeVersion) {
        this.interfaceName = interfaceName;
        this.runtimeVersion = runtimeVersion;
    }
    async generate(useSubPaths = false) {
        const interfaceName = this.interfaceName;
        const typeImports = new index_js_1.TypeImports();
        typeImports.addKnownType('GenericSubstrateApi', 'RpcLegacy', 'RpcV2', 'RpcVersion');
        const importTypes = typeImports.toImports({ useSubPaths });
        const interfaceDocs = (0, utils_js_1.commentBlock)([
            `@name: ${interfaceName}`, // prettier-end-here
            `@specVersion: ${this.runtimeVersion.specVersion}`,
        ]);
        const template = (0, utils_js_1.compileTemplate)('chaintypes/templates/index.hbs');
        return (0, utils_js_1.beautifySourceCode)(template({ interfaceName, interfaceDocs, importTypes }));
    }
}
exports.IndexGen = IndexGen;
