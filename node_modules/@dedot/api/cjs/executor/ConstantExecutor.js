"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConstantExecutor = void 0;
const utils_1 = require("@dedot/utils");
const Executor_js_1 = require("./Executor.js");
/**
 * @name ConstantExecutor
 *
 * Find & decode the constant value from metadata
 */
class ConstantExecutor extends Executor_js_1.Executor {
    doExecute(pallet, constantName) {
        const targetPallet = this.getPallet(pallet);
        const constantDef = targetPallet.constants.find((one) => (0, utils_1.stringCamelCase)(one.name) === constantName);
        (0, utils_1.assert)(constantDef, new utils_1.UnknownApiError(`Constant ${constantName} not found in pallet ${pallet}`));
        const $codec = this.registry.findCodec(constantDef.typeId);
        return $codec.tryDecode(constantDef.value);
    }
}
exports.ConstantExecutor = ConstantExecutor;
